{"componentChunkName":"component---src-templates-blog-post-js","path":"/Blazor/[Blazor]Server App이랑 MariaDB 연결하기/","result":{"data":{"site":{"siteMetadata":{"title":"개발하는 곰돌이","author":"[Sohyun]","siteUrl":"https://www.gomdol-ooh-ah.com","comment":{"disqusShortName":"","utterances":"JaeYeopHan/gatsby-starter-bee"},"sponsor":{"buyMeACoffeeId":"gomdol"}}},"markdownRemark":{"id":"fca301ab-55e6-50e1-999b-1e429103bfdd","excerpt":"Blazor Server App으로 프로젝트를 만들었을때 나오는 샘플 페이지에 DB연동을 해봤다. 아래 사진처럼 Fetch data 페이지에 들어가면 미리 넣어진 값을 보여주는 표가 나오는데, 이걸 MariaDB에 저장된 데이터로 채우기로 했다. Nuget 패키지 설치 도구 > NuGet 패키지 관리자 > 솔루션용 NuGet 패키지 관리에 들어간 후 사진에 보이는 패키지들을 설치해준다. 버전이 서로 안맞으면 에러가나는 경우가 있어서 5.0.x로 통일해주었다.   appsettings.json…","html":"<p>Blazor Server App으로 프로젝트를 만들었을때 나오는 샘플 페이지에 DB연동을 해봤다.</p>\n<p>아래 사진처럼 Fetch data 페이지에 들어가면 미리 넣어진 값을 보여주는 표가 나오는데, 이걸 MariaDB에 저장된 데이터로 채우기로 했다.</p>\n<ol>\n<li>\n<p>Nuget 패키지 설치</p>\n<p>도구 > NuGet 패키지 관리자 > 솔루션용 NuGet 패키지 관리에 들어간 후</p>\n<p>사진에 보이는 패키지들을 설치해준다.</p>\n<p><strong>버전이 서로 안맞으면 에러가나는 경우가 있어서 5.0.x로 통일해주었다.</strong></p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 764px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAACbklEQVQ4y21Uy27bMBDURxRI/FAUvUVSEmXR1ltynMJB0Qa99ND22v//h+kuHRsJ2sOAFE2NZndm7QihkOcF+n5C2/a0jtjvG4zjjMOhRVUZNE1PZy3qurHY7Q50d6S7M+0NjNlDqRJFUcHxPB9pKlCW2hLzj1IqPDx4FtvtA1yX4UFkku5oKAK/zNC6tsjtmYaT69Ju9vuDJVQqRxhGWK3WWK832Gy2Fvf3K1T1AR2p4kradiD1F6IL2c7CCcIYQsibQn6RibZb1xLxnsEqq32PmsCtmKcThu5IQjo08wvG5Yzh+AWO/xggywQKItO6QpykN1UulZzQcxwnFjX1i3vaDwum+YSZMM1PMPSRHffWdNzDR3uZ1bFKJg2C4KaSf7/C7GoUMocUAkM/YJlG6KJA5PuIoxgRweFy27bDNM3k2kDuTujomd3nfrJBUkoIclGYHnkz0trROqDsF3iixCbJ4VKlvh9cXOaXDmSKMcYeum8OX+Gxy36E5Psf6K8/UX37BfnyA9XrbyRPr1jPr/jkRXA3GzgcC1bJpTLZ1ZT/QVL+RN0i0RQt00BTdlPaB0ojSTOKlYDD7jGhJDDhNS7vI3NFlmQoVYEdGfN8pB4uIxYagJkwDLMNv8ONZ3V1bWzjbYm08ofek10+nNsQs5vH44TT82cM42InyZBiOylrupznpZ2QoigpQpLMUOR0+I9KJlSkkIOvcol5WSg6i3Wcz8IwhJNS7UXJSS9uE3J3d/9W+tquV2SZslPB91LqV9N1NiFN04J5bGw4qCyXYxJFCQU5uyGOP4L/ABhMKChKx9MJ5/MLRW6yw8GEfwGQS6NPs+ZZdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220314_01.png\"\n        title=\"220314_01.png\"\n        src=\"/static/e899fd9ff79356a1e79156b4c3e2fa7f/f3c12/220314_01.png\"\n        srcset=\"/static/e899fd9ff79356a1e79156b4c3e2fa7f/5a46d/220314_01.png 300w,\n/static/e899fd9ff79356a1e79156b4c3e2fa7f/0a47e/220314_01.png 600w,\n/static/e899fd9ff79356a1e79156b4c3e2fa7f/f3c12/220314_01.png 764w\"\n        sizes=\"(max-width: 764px) 100vw, 764px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 970px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVQ4y12Ty3KcMBRE+R57gGGGhwAhIQQC7ElW3rhcqSzy/9/QUYvA4Cy67uVRrXMfikSiYIsHCiEgRIu6lj42Id9VVU1Qfi9x97plOeL4GnS5pD5mSJIMXdcjKhOJqf+AGUcYM2KaFgzDBGvdptFh9BqGEXlebYa3Ihjtohnf93pA1MQ95uYDtZRQ/oS2VZBSh1iWAkUh/M/FP5L0IEvT2yEaXq93aG0Q5UkNLR8Y3QznVk8zY57XQEdiElo7QSkTxLKqsg5EJKbSNEPm26BJ2CYG790nxmXGuj682Vsoe13fg5Huh/BjeTLZy6ZIv+eB8B5XkPWCTvehVBJQUqrjWannMyn73h60NOEgWXYwlKnFD/UF6xwWT8dynVvgPCVbME3zYcyyXl5ivL4m38SeknojvFRoK4db/iznrL1PzEmxDef6TXzP4TwJzS+YaVsZEo1hVbaofWmcNHtIwt3wHGn47OFFoC0niKYNq9I03bHgzLnQXAmKFGezsyG/9z2nnA542N9QxsD4ZrPhXBezR7/QXafDUEh5Xuj/CfndT1lA5hZtp44J75OlEUlJyeu4E551NmSfI5kM+Dn9gRoGWH/leMW4d8bYcAWZb4foYEwKtoQlnq/ePry/Sq+w384E2XMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220314_02.png\"\n        title=\"220314_02.png\"\n        src=\"/static/3a3b56cca37a7c3c70a508a8c3a20bbd/587b0/220314_02.png\"\n        srcset=\"/static/3a3b56cca37a7c3c70a508a8c3a20bbd/5a46d/220314_02.png 300w,\n/static/3a3b56cca37a7c3c70a508a8c3a20bbd/0a47e/220314_02.png 600w,\n/static/3a3b56cca37a7c3c70a508a8c3a20bbd/587b0/220314_02.png 970w\"\n        sizes=\"(max-width: 970px) 100vw, 970px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ol start=\"2\">\n<li>\n<p>appsettings.json의 “Logging” 아래에 ConnectionStrings 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n <span class=\"token property\">\"Logging\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token property\">\"LogLevel\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token property\">\"Default\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Information\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token property\">\"Microsoft\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Warning\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token property\">\"Microsoft.Hosting.Lifetime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Information\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"AllowedHosts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span><span class=\"token punctuation\">,</span>\n\n >>>>>추가&lt;&lt;&lt;&lt;&lt;\n <span class=\"token property\">\"ConnectionStrings\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token string\">\"Server=localhost;Port=포트번호;Database=데이터베이스명;Uid=사용자명;Pwd=암호;SslMode=None;\"</span>\n <span class=\"token punctuation\">}</span>\n >>>>>>>&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Startup.cs에 아래 코드 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>EntityFrameworkCore</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">ConfigureServices</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IServiceCollection</span> services<span class=\"token punctuation\">)</span>\n       <span class=\"token punctuation\">{</span>\n           <span class=\"token punctuation\">.</span>\n           <span class=\"token punctuation\">.</span>\n           <span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n           <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> serverVersion <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MariaDbServerVersion</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Version</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           services<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">AddDbContext</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>AppDBContext<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=></span>         item<span class=\"token punctuation\">.</span><span class=\"token function\">UseMySql</span><span class=\"token punctuation\">(</span>Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">GetConnectionString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"이름정하기\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> serverVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           <span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n       <span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>AppDBContext.cs 스크립트 생성 후 작성</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>EntityFrameworkCore</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppDBContext</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">EF<span class=\"token punctuation\">.</span>DbContext</span></span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">public</span> <span class=\"token function\">AppDBContext</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">EF<span class=\"token punctuation\">.</span>DbContextOptions<span class=\"token punctuation\">&lt;</span>AppDBContext<span class=\"token punctuation\">></span></span> options<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">base</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">public</span> EF<span class=\"token punctuation\">.</span>DbSet<span class=\"token operator\">&lt;</span>WeatherForecast<span class=\"token operator\">></span> 테이블명 <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>WeatherForecast.cs에 내용 추가</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>ComponentModel<span class=\"token punctuation\">.</span>DataAnnotations</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">Test2<span class=\"token punctuation\">.</span>Data</span>\n<span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WeatherForecast</span>\n   <span class=\"token punctuation\">{</span>\n       <span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token comment\">//기본키가 되는 항목 위에 꼭 [Key]를 붙여줘야한다. 안그럼 기본키가 없다는 오류가남.</span>\n       <span class=\"token punctuation\">[</span>Key<span class=\"token punctuation\">]</span>\n       <span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n       <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> Index <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">DateTime</span> Date <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> TemperatureC <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">int</span></span> TemperatureF <span class=\"token operator\">=></span> <span class=\"token number\">32</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>TemperatureC <span class=\"token operator\">/</span> <span class=\"token number\">0.5556</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n       <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> Summary <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>DB데이터를 불러올 스크립트에 아래 코드 추가. (내 샘플프로젝트에선 WeatherForecastService.cs)</p>\n<div class=\"gatsby-highlight\" data-language=\"cs\"><pre class=\"language-cs\"><code class=\"language-cs\"><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span>추가<span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>EntityFrameworkCore</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">>></span><span class=\"token operator\">></span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;&lt;</span><span class=\"token operator\">&lt;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WeatherForecastService</span>\n<span class=\"token punctuation\">{</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 프로퍼티</span>\n   <span class=\"token keyword\">private</span> <span class=\"token keyword\">readonly</span> <span class=\"token class-name\">AppDBContext</span> _appDBContext<span class=\"token punctuation\">;</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> Constructor</span>\n   <span class=\"token keyword\">public</span> <span class=\"token function\">WeatherForecastService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AppDBContext</span> appDBContext<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   _appDBContext <span class=\"token operator\">=</span> appDBContext<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 날씨 조회하기</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span>List<span class=\"token punctuation\">&lt;</span>WeatherForecast<span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> <span class=\"token function\">GetAllNewsAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span>테이블명<span class=\"token punctuation\">.</span><span class=\"token function\">ToListAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 날씨 추가하기</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">bool</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">InsertWeatherAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WeatherForecast</span> weather<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span>테이블명<span class=\"token punctuation\">.</span><span class=\"token function\">AddAsync</span><span class=\"token punctuation\">(</span>weather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span><span class=\"token function\">SaveChangesAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 온도C로 날씨찾기</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span>WeatherForecast<span class=\"token punctuation\">></span></span> <span class=\"token function\">GetWeatherAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> tempC<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   <span class=\"token class-name\">WeatherForecast</span> weather <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span>테이블명<span class=\"token punctuation\">.</span><span class=\"token function\">FirstOrDefaultAsync</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">=></span> c<span class=\"token punctuation\">.</span>TemperatureC<span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span>tempC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> weather<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 날씨 업데이트하기</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">bool</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">UpdateWeatherAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WeatherForecast</span> weather<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   _appDBContext<span class=\"token punctuation\">.</span>테이블명<span class=\"token punctuation\">.</span><span class=\"token function\">Update</span><span class=\"token punctuation\">(</span>weather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span><span class=\"token function\">SaveChangesAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">region</span> 날씨 삭제하기</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token return-type class-name\">Task<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">bool</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">DeleteWeatherAsync</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WeatherForecast</span> weather<span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">{</span>\n   _appDBContext<span class=\"token punctuation\">.</span><span class=\"token function\">Remove</span><span class=\"token punctuation\">(</span>weather<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">await</span> _appDBContext<span class=\"token punctuation\">.</span><span class=\"token function\">SaveChangesAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n   <span class=\"token preprocessor property\">#<span class=\"token directive keyword\">endregion</span></span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>DB에 값넣기</p>\n<p>대충 두개만 넣어주었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1107px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABRUlEQVQoz4WR627qMBCE8/7v1qpSy80FEiAYEAm5YGLsJP66CQfOn0pdaeTVeHa1OxvttWazS0n3Gn04CDRbyYuqxvqetmvpuo4QeggtveR9gL4f/roRnWiGCMJFmyRGJXvUKmaqpmxTxXS94H114G2pmawU32opmJEmX7zPl6j1hulswsdkxVeimX+v0aczWVEQxRtNvNXs9IljVnKpLee8YCtTn0/CCa/1gTTdcc4ulMZQSWFdXzHXkvu9obl7ruZGYy1RWVn0UbpfKox14+g3+dDrGfVFY0xNVRp5HbXYUBSWY3HCeY+zBn9/1DwjyvOSLMsGB0aiud3I8wzXlHT++uLFnjGcD/jevxo8+CAeP3TRXFb6nM1J4oS9HGOxWKCU+teGUfgQ/y/6jX8i6oZrtS3OObysMZBWVn5dLoQ/8dQN8QMl7RiptZcSeQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220314_03.png\"\n        title=\"220314_03.png\"\n        src=\"/static/effaf7da2a6acd8d978a9e90d1b1b7e9/d7ba6/220314_03.png\"\n        srcset=\"/static/effaf7da2a6acd8d978a9e90d1b1b7e9/5a46d/220314_03.png 300w,\n/static/effaf7da2a6acd8d978a9e90d1b1b7e9/0a47e/220314_03.png 600w,\n/static/effaf7da2a6acd8d978a9e90d1b1b7e9/d7ba6/220314_03.png 1107w\"\n        sizes=\"(max-width: 1107px) 100vw, 1107px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n<li>\n<p>결과 확인</p>\n<p>잘 나온다!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABLUlEQVQoz61QzytEURQ+slEUs1Czk5AkeUsLIjUZsZCF7GfjX/BPSGSU8qMsyII02fhnzBs7RRnv3fve3Pve59w77ovBpMxXp3e+8875zncu9Q2tgvrnsVO+gsFrvY4gDBFyxHFsI4qi7GvzVs55KCKei0CDoyVQbgO7hxW8PD/hoeqj6vuo1R4hpYTWiV2UpikcTN7KHWixsI2JqS2cnN3bQkNpJElim96CAIJFTb8JIQQkO2oKgl0xl8x5zs2QN17CcH4Tx0d3UNqcEWcbzbDiBY4bQaVUxpvP0vjimsZy68h3L+G0XLE/nMBPJ7paO07ewBpGugo4P7jNBPHL+3xU0A4007uCSVrAxf7NN4d/dvb55NmeIjyaw+XetW3SxuE/wILLmO6sYLGjgu/YCdwR+yfUZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"220314_04.PNG\"\n        title=\"220314_04.PNG\"\n        src=\"/static/8fb22e30833ddacf2f7d9562b2f3d00b/c1b63/220314_04.png\"\n        srcset=\"/static/8fb22e30833ddacf2f7d9562b2f3d00b/5a46d/220314_04.png 300w,\n/static/8fb22e30833ddacf2f7d9562b2f3d00b/0a47e/220314_04.png 600w,\n/static/8fb22e30833ddacf2f7d9562b2f3d00b/c1b63/220314_04.png 1200w,\n/static/8fb22e30833ddacf2f7d9562b2f3d00b/d61c2/220314_04.png 1800w,\n/static/8fb22e30833ddacf2f7d9562b2f3d00b/9e818/220314_04.png 1913w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</li>\n</ol>\n<p>참고</p>\n<p><a href=\"https://docs.microsoft.com/ko-kr/aspnet/core/blazor/blazor-server-ef-core?view=aspnetcore-6.0\">https://docs.microsoft.com/ko-kr/aspnet/core/blazor/blazor-server-ef-core?view=aspnetcore-6.0</a></p>\n<p><a href=\"https://www.c-sharpcorner.com/article/blazor-crud-app-using-entity-framework-core-in-net-5/\">https://www.c-sharpcorner.com/article/blazor-crud-app-using-entity-framework-core-in-net-5/</a></p>","frontmatter":{"title":"[Blazor]Server App이랑 MariaDB 연결하기","date":"March 14, 2022"}}},"pageContext":{"slug":"/Blazor/[Blazor]Server App이랑 MariaDB 연결하기/","previous":{"fields":{"slug":"/Blazor/region이란/"},"frontmatter":{"title":"[C#]region이란"}},"next":{"fields":{"slug":"/Blazor/[Blazor]SFGrid에 onclick기능 추가하는법/"},"frontmatter":{"title":"[Blazor]SFGrid 테이블에 onclick기능 추가하는법"}}}},"staticQueryHashes":["2486386679","3128451518"]}